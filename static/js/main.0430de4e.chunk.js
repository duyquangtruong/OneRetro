(this["webpackJsonpone-retro"]=this["webpackJsonpone-retro"]||[]).push([[0],{77:function(e,t,s){},78:function(e,t,s){},79:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s(0),n=s(20),r=s.n(n),i=s(14),o=s(88),j=s(59),d=s(92),l=s(89),b=(s(40),s(9));var h=function(){var e=Object(a.useState)({isFetched:!1,isShowModal:!1}),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(a.useState)({}),h=Object(i.a)(r,2),u=h[0],O=h[1],m=Object(a.useState)({}),x=Object(i.a)(m,2),p=x[0],f=x[1],y=Object(a.useState)(""),g=Object(i.a)(y,2),v=g[0],w=g[1],S=Object(b.e)();return Object(a.useEffect)((function(){s.isFetched&&fetch("https://duyquangtruong-oneretro.herokuapp.com/login",{mode:"cors",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u.username,password:u.password,isRemember:u.isRemember})}).then((function(e){return e.json()})).then((function(e){f(e)}))}),[s]),Object(a.useEffect)((function(){s.isFetched&&(0===Object.keys(p).length||Object.keys(p).some((function(e){return"error"===e}))?(400===p.error?w("Invalid Username ! \n Please try again or create an account."):w("Wrong password !"),n({isFetched:!1,isShowModal:!0})):(sessionStorage.setItem("_id",p._id),sessionStorage.setItem("fullname",p.name),S.push("/boards")))}),[p]),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)(o.a,{show:s.isShowModal,children:Object(c.jsxs)(o.a.Dialog,{children:[Object(c.jsx)(o.a.Header,{closeButton:!0,children:Object(c.jsx)(o.a.Title,{children:"Login Error"})}),Object(c.jsx)(o.a.Body,{children:Object(c.jsx)("p",{children:v})}),Object(c.jsx)(o.a.Footer,{children:Object(c.jsx)(j.a,{variant:"primary",onClick:function(){n({isFetched:!1,isShowModal:!1})},children:"Close"})})]})})}),Object(c.jsxs)("div",{className:"container mt-5",children:[Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(c.jsx)("h1",{children:"Welcome to OneRetro"})}),Object(c.jsx)("div",{className:"d-flex justify-content-center mt-4",children:Object(c.jsx)(d.a,{style:{width:"50%"},children:Object(c.jsx)(d.a.Body,{children:Object(c.jsxs)(l.a,{onSubmit:function(e){n({isFetched:!0,isShowModal:!1}),O({username:e.currentTarget.username.value,password:e.currentTarget.password.value,isRemember:e.currentTarget.isRemember.value}),e.preventDefault()},action:"/boards",children:[Object(c.jsxs)(l.a.Group,{controlId:"formBasicEmail",children:[Object(c.jsx)(l.a.Label,{children:"Username"}),Object(c.jsx)(l.a.Control,{type:"text",name:"username",placeholder:"Enter username",required:!0})]}),Object(c.jsxs)(l.a.Group,{controlId:"formBasicPassword",children:[Object(c.jsx)(l.a.Label,{children:"Password"}),Object(c.jsx)(l.a.Control,{type:"password",placeholder:"Password",name:"password",required:!0})]}),Object(c.jsx)(l.a.Group,{controlId:"formBasicCheckbox",children:Object(c.jsx)(l.a.Check,{type:"checkbox",label:"Keep me login",name:"isRemember"})}),Object(c.jsx)(j.a,{className:"",variant:"primary",type:"submit",children:"Login"})]})})})})]})]})},u=s.p+"static/media/logo.e7601552.png",O=s.p+"static/media/avatar.aa51ea5f.jpeg",m=s(90),x=s(84),p=s(87);var f=function(){sessionStorage.getItem("_id");var e=sessionStorage.getItem("fullname");return Object(c.jsx)("div",{children:Object(c.jsxs)(m.a,{bg:"dark",variant:"dark",children:[Object(c.jsxs)(m.a.Brand,{href:"/boards",children:[Object(c.jsx)("img",{alt:"",src:u,width:"35",height:"35",className:"d-inline-block align-top"})," ","OneRetro"]}),Object(c.jsxs)(m.a.Collapse,{id:"responsive-navbar-nav",children:[Object(c.jsx)(x.a,{className:"m-auto"}),Object(c.jsxs)(x.a,{children:[Object(c.jsx)("img",{className:"mr-2",style:{borderRadius:"50%"},width:"50",height:"50",src:O}),Object(c.jsxs)(p.a,{className:"m-auto",title:e,id:"basic-nav-dropdown",children:[Object(c.jsx)(p.a.Item,{href:"/users",children:"Account Info"}),Object(c.jsx)(p.a.Divider,{}),Object(c.jsx)(p.a.Item,{href:"#action/3.4",children:"Log out"})]})]})]})]})})},y=(s(77),s.p+"static/media/add.83cf5272.png");function g(){var e=Object(a.useState)({isUpdateList:!0,boardList:[]}),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(a.useState)({isShowModal:!1,request:{}}),b=Object(i.a)(r,2),h=b[0],u=b[1],O=sessionStorage.getItem("_id");Object(a.useEffect)((function(){s.isUpdateList&&fetch("https://duyquangtruong-oneretro.herokuapp.com/boards",{mode:"cors",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({createdBy:O})}).then((function(e){return e.json()})).then((function(e){n({isUpdateList:!1,boardList:e})})).catch((function(e){console.log(e),n({isUpdateList:!1,boardList:[]})}))}),[s]),Object(a.useEffect)((function(){h.isShowModal&&0!==Object.keys(h.request).length&&fetch("https://duyquangtruong-oneretro.herokuapp.com/boards/create",{mode:"cors",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h.request.name,description:h.request.description,createdBy:h.request.createdBy})}).then((function(e){return e.json()})).then((function(e){201===e.result?(n({isUpdateList:!0,boardList:e.boardList}),u({isShowModal:!1,request:{}})):console.log(e.result)})).catch((function(e){console.log(e)}))}),[h]);var m=Object(c.jsx)("div",{className:"boardCreate",style:{borderStyle:"dotted",borderColor:"lightgray"},children:Object(c.jsx)("img",{src:y,style:{width:"70px",height:"70px"},onClick:function(){return u({isShowModal:!0,request:{}})}})}),x=s.boardList.map((function(e,t){return Object(c.jsx)("div",{className:"boardItems",children:Object(c.jsx)(d.a,{style:{width:"18rem"},children:Object(c.jsxs)(d.a.Body,{children:[Object(c.jsx)(d.a.Title,{children:e.name}),Object(c.jsx)(d.a.Text,{children:e.description}),Object(c.jsx)(j.a,{className:"m-auto",variant:"primary",children:"Detail"})]})})})}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsxs)(o.a,{show:h.isShowModal,children:[Object(c.jsx)(o.a.Header,{children:Object(c.jsx)(o.a.Title,{className:"m-auto",children:"Create Board"})}),Object(c.jsx)(o.a.Body,{children:Object(c.jsxs)(l.a,{onSubmit:function(e){!function(e){u({isShowModal:!0,request:{name:e.currentTarget.name.value,description:e.currentTarget.description.value,createdBy:O}})}(e),e.preventDefault()},children:[Object(c.jsxs)(l.a.Group,{controlId:"formBasicEmail",children:[Object(c.jsx)(l.a.Label,{children:"Name"}),Object(c.jsx)(l.a.Control,{type:"text",name:"name",placeholder:"Enter board name",required:!0}),Object(c.jsx)(l.a.Label,{children:"Description"}),Object(c.jsx)(l.a.Control,{as:"textarea",name:"description",rows:3,placeholder:"Some description about new board"})]}),Object(c.jsxs)(o.a.Footer,{children:[Object(c.jsx)(j.a,{variant:"secondary",onClick:function(){return u({isShowModal:!1,request:{}})},children:"Close"}),Object(c.jsx)(j.a,{variant:"primary",type:"submit",children:"Create"})]})]})})]})}),Object(c.jsxs)("div",{className:"boardList",children:[m,x]})]})}var v=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(f,{}),Object(c.jsxs)("div",{className:"page-content",children:[Object(c.jsx)("h3",{children:"My Boards"}),Object(c.jsx)("hr",{}),Object(c.jsx)(g,{})]})]})},w=s(91),S=s(85),N=s(61);var B=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(a.useState)(!1),b=Object(i.a)(r,2),h=b[0],u=b[1],m=Object(a.useState)(!1),x=Object(i.a)(m,2),p=x[0],y=x[1],g=Object(a.useState)({}),v=Object(i.a)(g,2),B=v[0],C=v[1];function I(){fetch("https://duyquangtruong-oneretro.herokuapp.com/users",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:sessionStorage.getItem("_id")})}).then((function(e){return e.json()})).then((function(e){200===e.result?C({name:e.userInfo.name,username:e.userInfo.username,email:e.userInfo.email,createdAt:e.userInfo.createdAt}):console.log(e.result)}))}return Object(a.useEffect)((function(){0===Object.keys(B).length&&I()}),[B]),Object(a.useEffect)((function(){h&&fetch("https://duyquangtruong-oneretro.herokuapp.com/users/update",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:B.username,name:B.name,email:B.email})}).then((function(e){return e.json()})).then((function(e){200===e.result&&(y(!0),I())}))}),[h]),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsxs)(w.a,{show:p,onClose:function(){return y(!1)},style:{position:"absolute",bottom:10,right:10},children:[Object(c.jsx)(w.a.Header,{children:Object(c.jsx)("strong",{className:"mr-auto",children:"Success"})}),Object(c.jsx)(w.a.Body,{children:"Your information is updated !"})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)(o.a,{show:s,size:"lg",children:[Object(c.jsx)(o.a.Header,{closeButton:!0,children:Object(c.jsx)(o.a.Title,{children:"Modal title"})}),Object(c.jsx)(o.a.Body,{children:Object(c.jsxs)(l.a,{onSubmit:function(e){var t=e.currentTarget,s=t.name.value,c=t.email.value;C({username:B.username,name:s,email:c,createdAt:B.createdAt}),u(!0),e.preventDefault(),n(!1),u(!1)},action:"/users/update",children:[Object(c.jsxs)(l.a.Group,{controlId:"formBasicPassword",children:[Object(c.jsx)(l.a.Label,{children:"Fullname"}),Object(c.jsx)(l.a.Control,{name:"name",type:"text",placeholder:"Fullname",required:!0})]}),Object(c.jsxs)(l.a.Group,{controlId:"formBasicEmail",children:[Object(c.jsx)(l.a.Label,{children:"Email address"}),Object(c.jsx)(l.a.Control,{name:"email",type:"email",placeholder:"Enter email",required:!0}),Object(c.jsx)(l.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(c.jsxs)(o.a.Footer,{children:[Object(c.jsx)(j.a,{variant:"secondary",onClick:function(){n(!1)},children:"Close"}),Object(c.jsx)(j.a,{variant:"primary",type:"submit",children:"Save changes"})]})]})})]})}),Object(c.jsxs)("div",{children:[Object(c.jsx)(f,{}),Object(c.jsxs)("div",{className:"page-content",children:[Object(c.jsx)("h3",{children:"Information"}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(c.jsxs)(d.a,{style:{width:"50rem"},children:[Object(c.jsx)("img",{className:"m-auto",src:O,width:"300",height:"300"}),Object(c.jsxs)(d.a.Body,{className:"m-auto",children:[Object(c.jsx)(d.a.Title,{children:B.name}),Object(c.jsxs)(d.a.Text,{children:["Username: ",B.username]})]}),Object(c.jsxs)(S.a,{className:"list-group-flush",children:[Object(c.jsxs)(N.a,{children:["Email: ",B.email]}),Object(c.jsxs)(N.a,{children:["Registered: ",new Date(B.createdAt).toDateString()]})]}),Object(c.jsxs)(d.a.Body,{children:[Object(c.jsx)(d.a.Link,{onClick:function(){return n(!0)},children:"Edit"}),Object(c.jsx)(d.a.Link,{href:"#",children:"Reset password"})]})]})})]})]})]})},C=s(42),I=(s(78),s(86)),T=s(60);function k(){return Object(c.jsxs)("div",{children:[Object(c.jsxs)(I.a,{children:[Object(c.jsx)(T.a,{children:Object(c.jsx)("h2",{children:"Went Well"})}),Object(c.jsx)(T.a,{children:Object(c.jsx)("h2",{children:"To Improve"})}),Object(c.jsx)(T.a,{children:Object(c.jsx)("h2",{children:"Action Items"})})]}),Object(c.jsxs)(I.a,{children:[Object(c.jsx)(T.a,{className:"addButton",children:Object(c.jsx)("img",{src:y,style:{width:"8%"}})}),Object(c.jsx)(T.a,{className:"addButton",children:Object(c.jsx)("img",{src:y,width:"8%"})}),Object(c.jsx)(T.a,{className:"addButton",children:Object(c.jsx)("img",{src:y,width:"8%"})})]}),Object(c.jsxs)(I.a,{children:[Object(c.jsxs)(T.a,{children:[Object(c.jsxs)(I.a,{className:"justify-content-center",children:[" ",Object(c.jsxs)(d.a,{body:!0,style:{width:"95%"},children:[" ","row1"]})]}),Object(c.jsxs)(I.a,{className:"justify-content-center",children:[" ",Object(c.jsxs)(d.a,{body:!0,style:{width:"95%"},children:[" ","row2"]})]}),Object(c.jsxs)(I.a,{className:"justify-content-center",children:[" ",Object(c.jsxs)(d.a,{body:!0,style:{width:"95%"},children:[" ","row3"]})]})]}),Object(c.jsxs)(T.a,{children:[Object(c.jsxs)(I.a,{className:"justify-content-center",children:[" ",Object(c.jsxs)(d.a,{body:!0,style:{width:"95%"},children:[" ","row1"]})]}),Object(c.jsxs)(I.a,{className:"justify-content-center",children:[" ",Object(c.jsxs)(d.a,{body:!0,style:{width:"95%"},children:[" ","row2"]})]}),Object(c.jsxs)(I.a,{className:"justify-content-center",children:[" ",Object(c.jsxs)(d.a,{body:!0,style:{width:"95%"},children:[" ","row3"]})]})]}),Object(c.jsxs)(T.a,{className:"col-md",children:[Object(c.jsxs)(I.a,{className:"justify-content-center",children:[" ",Object(c.jsx)(d.a,{body:!0,children:" row1"})]}),Object(c.jsxs)(I.a,{className:"justify-content-center",children:[" ",Object(c.jsxs)(d.a,{body:!0,className:"",children:[" ","row2"]})]}),Object(c.jsxs)(I.a,{className:"justify-content-center",children:[" ",Object(c.jsx)(d.a,{body:!0,children:" row3"})]})]})]})]})}var L=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(f,{}),Object(c.jsx)("div",{className:"page-content",children:Object(c.jsx)(k,{})})]})};function q(){return Object(c.jsx)(C.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(b.a,{path:"/login",exact:!0,component:h}),Object(c.jsx)(b.a,{path:"/boards/detail",exact:!0,component:L}),Object(c.jsx)(b.a,{path:"/boards",exact:!0,component:v}),Object(c.jsx)(b.a,{path:"/users",exact:!0,component:B})]})})}r.a.render(Object(c.jsx)(q,{}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.0430de4e.chunk.js.map